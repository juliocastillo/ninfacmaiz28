{% extends 'layout.html.twig' %}

{% block head %}
    <title>{{app.session.get('empresa_nombre')}}</title>
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('bundles/app/css/jquery.dataTables.min.css') }}">
    <link rel="stylesheet" href="{{ asset('bundles/app/css/select2-bootstrap.css') }}">
    <link rel="stylesheet" href="{{ asset('bundles/app/css/select2.min.css') }}">
    <link rel="stylesheet" href="{{ asset('bundles/app/css/gh-pages.css') }}">
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('bundles/app/js/jquery.dataTables.min.js') }}"></script>
    <script src="{{ asset('bundles/app/js/select2.full.js') }}"></script>
    <script src="{{ asset('bundles/app/js/anchor.min.js') }}"></script>

    <script>
        $(document).ready(function() {
            $('#mytable').DataTable({
                paging: false,
                scrollY: 225,
                searching: false,
                ordering: false,
                select: false,
                info: false
            });
        });

        $(document).ready(function() {
            $("#myBtn").click(function() {
                $("#myModal").modal();
            });
        });




    </script>
    {% endblock %} {% block body %} {{ parent() }} {% include 'NinfacContaBundle:Herramientas:form650x.html.twig' %} {{ form_start(form) }} <table>
    <tr>
        <td>
            {{ form_row(form.corrAnual) }}
        </td>
        <td>
            {{ form_row(form.corrMensual) }}
        </td>
        <td>
            {{ form_row(form.corrTipo) }}
        </td>
        <td>
            {{ form_row(form.idTipopartida) }}
        </td>
    </tr>
    <tr>
        <td>
            {{ form_row(form.fecha) }}
        </td>

        <td colspan="3">
            {{ form_row(form.concepto) }}
        </td>

    </tr>
    <tr>
        <td></td>
        <td></td>
        <td></td>
        <td>
            {{ form_row(form.save) }}
        </td>

    </tr>
</table>
{{ form_end(form) }}
<div>
    <table id="mytable" class="cell-border" cellspacing="0" width="100%">
        <thead>
            <tr>
                <td></td>
                <th>
                    Cuenta
                </th>
                <th>
                    Concepto
                </th>
                <th>
                    Debe
                </th>
                <th>
                    Haber
                </th>
                <th></th>
            </tr>
        </thead>
        <tr>
            <td>
                <a href="#" id="myBtn" style="font-size:24px">
                    <i class="fa fa-plus-square-o"></i>
                </a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td>
                <a href="" style="font-size:24px;color:red">
                    <i class="fa fa-minus-square-o"></i>
                </a>
            </td>
        </tr>

        <tr>
            <td>
                <a href="" style="font-size:24px">
                    <i class="fa fa-plus-square-o"></i>
                </a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td>
                <a href="" style="font-size:24px;color:red">
                    <i class="fa fa-minus-square-o"></i>
                </a>
            </td>
        </tr>

        <tr>
            <td>
                <a href="" style="font-size:24px">
                    <i class="fa fa-plus-square-o"></i>
                </a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td>
                <a href="" style="font-size:24px;color:red">
                    <i class="fa fa-minus-square-o"></i>
                </a>
            </td>
        </tr>

        <tr>
            <td>
                <a href="" style="font-size:24px">
                    <i class="fa fa-plus-square-o"></i>
                </a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td>
                <a href="" style="font-size:24px;color:red">
                    <i class="fa fa-minus-square-o"></i>
                </a>
            </td>
        </tr>

        <tr>
            <td>
                <a href="" style="font-size:24px">
                    <i class="fa fa-plus-square-o"></i>
                </a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td>
                <a href="" style="font-size:24px;color:red">
                    <i class="fa fa-minus-square-o"></i>
                </a>
            </td>
        </tr>

        <tr>
            <td>
                <a href="" style="font-size:24px">
                    <i class="fa fa-plus-square-o"></i>
                </a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td>
                <a href="" style="font-size:24px;color:red">
                    <i class="fa fa-minus-square-o"></i>
                </a>
            </td>
        </tr>
    </table>
</div>

<input type="text"/>
<input type="text"/>

<!-- Modal -->
<div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header" style="padding:15px 50px;">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4>
                    <span class="fa fa-list"></span>
                    Detalle</h4>
            </div>
            <div class="modal-body" style="padding:40px 50px;">
                <form role="form">
                    <div class="form-group">
                        <label for="cuenta" class="">
                            Cuenta</label>
    				<select id="single" class="form-control select2-single">
                        <option value="1">Cuenta 1 QWEQEWR QEWR QERQWER QWERQR</option>
                        <option value="2">Cuenta 2</option>
                        <option value="3">Cuenta 3</option>
                        <option value="4">Cuenta 4</option>
                        <option value="1">Cuenta 1</option>
                        <option value="2">Cuenta 2</option>
                        <option value="3">Cuenta 3</option>
                        <option value="4">Cuenta 4</option>
    				</select>

                    </div>

                    <div class="form-group">
                        <label for="concepto" class="">
                            Concepto</label>
                        <input type="text" class="form-control" id="concepto" placeholder="Concepto">
                    </div>
                    <div class="form-group">
                        <label for="debe" class="col-sm-2 col-form-label">
                            Debe</label>
                        <input type="text" class="" id="debe" placeholder="Debe">
                    </div>
                    <div class="form-group">
                        <label for="haber" class="col-sm-2 col-form-label">
                            Haber</label>
                        <input type="text" class="" id="haber" placeholder="Haber">
                    </div>

                    <button type="submit" class="btn btn-success btn-block">
                        <span class="glyphicon glyphicon-ok"></span>
                        Agregar</button>
                </form>
            </div>
            <div class="modal-footer">
                <button type="submit" class="btn btn-danger btn-default pull-left" data-dismiss="modal">
                    <span class="glyphicon glyphicon-remove"></span>
                    Cancel</button>
            </div>
        </div>

    </div>
</div>
</div>
<script>
anchors.options.placement = 'left';
        anchors.add('.container h1, .container h2, .container h3, .container h4, .container h5');
			// Set the "bootstrap" theme as the default theme for all Select2
			// widgets.
			//
			// @see https://github.com/select2/select2/issues/2927
			$.fn.select2.defaults.set( "theme", "bootstrap" );

			var placeholder = "Select a State";

			$( ".select2-single, .select2-multiple" ).select2( {
				placeholder: placeholder,
				width: 525,
				containerCssClass: ':all:'
			} );

			$( ".select2-allow-clear" ).select2( {
				allowClear: true,
				placeholder: placeholder,
				width: null,
				containerCssClass: ':all:'
			} );

			// @see https://select2.github.io/examples.html#data-ajax
			function formatRepo( repo ) {
				if (repo.loading) return repo.text;

				var markup = "<div class='select2-result-repository clearfix'>" +
					"<div class='select2-result-repository__avatar'><img src='" + repo.owner.avatar_url + "' /></div>" +
					"<div class='select2-result-repository__meta'>" +
						"<div class='select2-result-repository__title'>" + repo.full_name + "</div>";

				if ( repo.description ) {
					markup += "<div class='select2-result-repository__description'>" + repo.description + "</div>";
				}

				markup += "<div class='select2-result-repository__statistics'>" +
							"<div class='select2-result-repository__forks'><span class='glyphicon glyphicon-flash'></span> " + repo.forks_count + " Forks</div>" +
							"<div class='select2-result-repository__stargazers'><span class='glyphicon glyphicon-star'></span> " + repo.stargazers_count + " Stars</div>" +
							"<div class='select2-result-repository__watchers'><span class='glyphicon glyphicon-eye-open'></span> " + repo.watchers_count + " Watchers</div>" +
						"</div>" +
					"</div></div>";

				return markup;
			}

			function formatRepoSelection( repo ) {
				return repo.full_name || repo.text;
			}

			$( ".js-data-example-ajax" ).select2({
				width : null,
				containerCssClass: ':all:',
				ajax: {
					url: "https://api.github.com/search/repositories",
					dataType: 'json',
					delay: 250,
					data: function (params) {
						return {
							q: params.term, // search term
							page: params.page
						};
					},
					processResults: function (data, params) {
						// parse the results into the format expected by Select2
						// since we are using custom formatting functions we do not need to
						// alter the remote JSON data, except to indicate that infinite
						// scrolling can be used
						params.page = params.page || 1;

						return {
							results: data.items,
							pagination: {
								more: (params.page * 30) < data.total_count
							}
						};
					},
					cache: true
				},
				escapeMarkup: function (markup) { return markup; }, // let our custom formatter work
				minimumInputLength: 1,
				templateResult: formatRepo,
				templateSelection: formatRepoSelection
			});

			$( "button[data-select2-open]" ).click( function() {
				$( "#" + $( this ).data( "select2-open" ) ).select2( "open" );
			});

			$( ":checkbox" ).on( "click", function() {
				$( this ).parent().nextAll( "select" ).prop( "disabled", !this.checked );
			});

			// copy Bootstrap validation states to Select2 dropdown
			//
			// add .has-waring, .has-error, .has-succes to the Select2 dropdown
			// (was #select2-drop in Select2 v3.x, in Select2 v4 can be selected via
			// body > .select2-container) if _any_ of the opened Select2's parents
			// has one of these forementioned classes (YUCK! ;-))
			$( ".select2-single, .select2-multiple, .select2-allow-clear, .js-data-example-ajax" ).on( "select2:open", function() {
				if ( $( this ).parents( "[class*='has-']" ).length ) {
					var classNames = $( this ).parents( "[class*='has-']" )[ 0 ].className.split( /\s+/ );

					for ( var i = 0; i < classNames.length; ++i ) {
						if ( classNames[ i ].match( "has-" ) ) {
							$( "body > .select2-container" ).addClass( classNames[ i ] );
						}
					}
				}
			});
</script>

{% endblock %}
